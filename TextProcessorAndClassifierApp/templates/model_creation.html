{% extends 'base.html' %}
{% load static %}

{% block title %}Model Oluştur{% endblock %}
{% block extra_css %}
<style>
    .dataset-info {
        margin-top: 20px;
        padding: 15px;
        background-color: #f8f9fa;
        border: 1px solid #ced4da;
        border-radius: 8px;
    }

    .dataset-info ul {
        list-style-type: disc;
        padding-left: 20px;
    }

    .parameter-group {
        margin-top: 15px;
    }
</style>
{% endblock %}
{% block content %}
<div class="container mt-5">
    <h1 class="text-center">Model Oluştur</h1>

    <form method="post">
        {% csrf_token %}

        <div class="form-group">
            <label for="algorithm">Algoritma Seçin:</label>
            <select id="algorithm" name="algorithm" class="form-control">
                {% for algorithm in algorithms %}
                    <option value="{{ algorithm }}">{{ algorithm }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group mt-3">
            <label for="vectorizer">Vektörleştirici Seçin:</label>
            <select id="vectorizer" name="vectorizer" class="form-control">
                {% for vectorizer in vectorizers %}
                    <option value="{{ vectorizer }}">{{ vectorizer }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group mt-3">
            <label for="test_size">Test Seti Oranı:</label>
            <input type="number" step="0.01" id="test_size" name="test_size" value="{{ default_test_size }}" class="form-control">
        </div>
        <div class="form-group mt-3">
            <label for="random_state">Random State:</label>
            <input type="number" id="random_state" name="random_state" value="{{ default_random_state }}" class="form-control">
        </div>

        <div class="form-group mt-3" id="algorithm-parameters">
            <label>Algoritma Parametreleri:</label>
            <div id="SVM-parameters" class="parameter-group" style="display: none;">
                <label for="c_value">C (Regularization):</label>
                <input type="number" step="0.1" id="c_value" name="c_value" value="1.0" class="form-control">
            </div>
            <div id="Random-Forest-parameters" class="parameter-group" style="display: none;">
                <label for="max_depth">Maksimum Derinlik:</label>
                <input type="number" id="max_depth" name="max_depth" class="form-control">
                <label for="n_estimators" class="mt-3">Estimator Sayısı:</label>
                <input type="number" id="n_estimators" name="n_estimators" value="100" class="form-control">
            </div>
            <div id="Logistic-Regression-parameters" class="parameter-group" style="display: none;">
                <label for="logistic_c_value">C (Regularization):</label>
                <input type="number" step="0.1" id="logistic_c_value" name="c_value" value="1.0" class="form-control">
            </div>
        </div>

        <div class="dataset-info mt-4">
            <h3>Uygulamanın Dataset Bilgileri</h3>
            <h4>İngilizce Dataset:</h4>
            <ul>
                <li>World: 300</li>
                <li>Sports: 300</li>
                <li>Business: 300</li>
                <li>Sci/Tech: 300</li>
                <li>Entertainment: 300</li>
                <li>Politics: 300</li>
                <li>Medicine: 299</li>
            </ul>

            <h4>Türkçe Dataset:</h4>
            <ul>
                <li>Ekonomi: 1275</li>
                <li>Kültür-Sanat: 1071</li>
                <li>Sağlık: 1199</li>
                <li>Siyaset: 1280</li>
                <li>Spor: 1225</li>
                <li>Teknoloji: 1225</li>
            </ul>
        </div>
        <div class="form-group mt-3">
            <label>Dataset Seçimi:</label><br>
            <div class="form-check">
                <input type="radio" id="application" name="dataset_choice" value="application" class="form-check-input" checked>
                <label for="application" class="form-check-label">Uygulamanın Datasetini Kullan</label>
            </div>
            <div class="form-check">
                <input type="radio" id="custom" name="dataset_choice" value="custom" class="form-check-input">
                <label for="custom" class="form-check-label">Kendi Datasetimi Yükle</label>
            </div>
        </div>
        <div id="dataset-language-options" class="form-group mt-3" style="display: none;">
            <label>Hangi Dataseti Kullanmak İstersiniz?</label><br>
            <div class="form-check">
                <input type="radio" id="english_dataset" name="dataset_language" value="en" class="form-check-input">
                <label for="english_dataset" class="form-check-label">İngilizce Dataset</label>
            </div>
            <div class="form-check">
                <input type="radio" id="turkish_dataset" name="dataset_language" value="tr" class="form-check-input">
                <label for="turkish_dataset" class="form-check-label">Türkçe Dataset</label>
            </div>
        </div>

        <button type="submit" class="btn btn-primary mt-4">Modeli Oluştur</button>
    </form>
</div>
{% endblock %}
{% block extra_js %}
<script src="{% static 'js/model_creation.js' %}"></script>
{% endblock %}
